<app-login-header></app-login-header>
<div class="container">
    <h2>Reset Password</h2>
    <form (ngSubmit)="onResetPassword()">
      <!-- ตัวเลือกวิธีการยืนยัน (เบอร์โทรศัพท์ หรือ อีเมล) -->
      <div class="form-group">
        <label>How would you like to reset your password?</label>
        <div class="form-check">
          <input type="radio" id="emailOption" [(ngModel)]="resetMethod" name="resetMethod" value="email" class="form-check-input" required>
          <label for="emailOption" class="form-check-label">Email</label>
        </div>
        <div class="form-check">
          <input type="radio" id="phoneOption" [(ngModel)]="resetMethod" name="resetMethod" value="phone" class="form-check-input" required>
          <label for="phoneOption" class="form-check-label">Phone</label>
        </div>
      </div>

      <!-- ฟิลด์สำหรับกรอกข้อมูลตามที่เลือก -->
      <div class="form-group" *ngIf="resetMethod === 'email'">
        <label for="email">Email</label>
        <input type="email" id="email" [(ngModel)]="email" name="email" class="form-control" required>
      </div>

      <div class="form-group" *ngIf="resetMethod === 'phone'">
        <label for="phone">Phone</label>
        <input type="text" id="phone" [(ngModel)]="phone" name="phone" class="form-control" required>
      </div>

      <!-- ฟิลด์สำหรับกรอกรหัสผ่านใหม่ พร้อมการแสดง/ซ่อนรหัสผ่าน -->
      <div class="form-group">
        <label for="newPassword">New Password</label>
        <div class="input-group">
          <input [type]="showPassword ? 'text' : 'password'" id="newPassword" [(ngModel)]="newPassword" name="newPassword" class="form-control" required>
          <div class="input-group-append">
            <button type="button" class="btn btn-outline-secondary" (click)="togglePasswordVisibility()">
              {{ showPassword ? 'Hide' : 'Show' }}
            </button>
          </div>
        </div>
      </div>

      <button type="submit" class="btn btn-primary">Reset Password</button>
    </form>

    <div *ngIf="errorMessage" class="alert alert-danger mt-2">
      {{ errorMessage }}
    </div>
</div>
