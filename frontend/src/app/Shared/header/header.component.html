<header class="p-1 mb-3 border-bottom" *ngIf="!isAdmin"> 
  <!-- Header สำหรับ User -->
  <div class="container">
    <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
      <a routerLink="/" class="d-flex align-items-center mb-2 mb-lg-0 link-body-emphasis text-decoration-none">
        <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap">
          <use xlink:href="#bootstrap"></use>
        </svg>
      </a>
      <div routerLink="/home">
        <img src="assets/pimsubgear.png" alt="Logo">
      </div>
      <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
        <li><a class="nav-link px-3 link-secondary" routerLink="/home">Home</a></li>
        <li><a class="nav-link px-3 link-body-emphasis" routerLink="/product-list">Product</a></li>
        <li><a class="nav-link px-3 link-body-emphasis" routerLink="/about-us">About us</a></li>
        <li><a class="nav-link px-3 link-body-emphasis" routerLink="/contact-us">Contact</a></li>
      </ul>

      <form class="form-inline my-2 my-lg-0" (ngSubmit)="onSearch()">
        <div class="input-group">
          <input class="form-control" type="search" placeholder="Search products" [(ngModel)]="searchTerm" name="search">
          <div class="input-group-append">
            <button class="btn btn-primary" type="submit">ค้นหา</button>
          </div>
        </div>
      </form>

      <a routerLink="/cart" class="ms-3">
        <i class="bi bi-cart2"></i>
      </a>

      <ng-container *ngIf="authService.isLoggedIn(); else notLoggedIn">
        <div class="dropdown">
          <a class="btn btn-secondary dropdown-toggle profile-btn" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
            <img src="assets/Profile.png" alt="Profile" width="30" height="30" class="rounded-circle">
          </a>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
            <li><a class="dropdown-item" routerLink="/orders">ประวัติการซื้อ</a></li>
            <li><a class="dropdown-item" (click)="logout()">ล็อกเอาต์</a></li>
          </ul>
        </div>
      </ng-container>

      <ng-template #notLoggedIn>
        <button type="submit" class="signin-button" routerLink="/login">เข้าสู่ระบบ</button>
      </ng-template>
    </div>
  </div>
</header>

<header class="p-1 mb-3 border-bottom" *ngIf="isAdmin"> 
  <!-- Header สำหรับ Admin -->
  <div class="container">
    <div class="d-flex flex-wrap align-items-center justify-content-between">
      <!-- Logo -->
      <div class="d-flex align-items-center">
        <a routerLink="/" class="d-flex align-items-center mb-2 mb-lg-0 link-body-emphasis text-decoration-none">
          <img src="assets/pimsubgear.png" alt="Logo" width="40"> <!-- ลดขนาดโลโก้ -->
        </a>
      </div>
      <!-- Navigation Links -->
      <ul class="nav col-lg-auto mb-2 justify-content-center mb-md-0 d-flex align-items-center">
        <li><a class="nav-link px-2 link-secondary" routerLink="/admin">Admin Dashboard</a></li>
        <li><a class="nav-link px-2 link-body-emphasis" routerLink="/admin-product">Manage Products</a></li>
        <li><a class="nav-link px-2 link-body-emphasis" routerLink="/admin-manage">Manage Orders</a></li>
        
        <!-- Web Home Dropdown for Admin -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle px-2 link-secondary" href="#" id="webHomeDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Web Home
          </a>
          <ul class="dropdown-menu" aria-labelledby="webHomeDropdown">
            <li><a class="dropdown-item" routerLink="/home">Home</a></li>
            <li><a class="dropdown-item" routerLink="/product-list">Product</a></li>
            <li><a class="dropdown-item" routerLink="/about-us">About us</a></li>
            <li><a class="dropdown-item" routerLink="/contact-us">Contact</a></li>
          </ul>
        </li>
      </ul>
      <!-- Search Form -->
      <form class="form-inline d-flex align-items-center my-2 my-lg-0 flex-grow-1" style="max-width: 400px;" (ngSubmit)="onSearch()"> <!-- จำกัดขนาดช่องค้นหา -->
        <input class="form-control me-2" type="search" placeholder="Search products" [(ngModel)]="searchTerm" name="search" style="flex-grow: 1;">
        <button class="btn btn-primary" type="submit">ค้นหา</button>
      </form>
      <!-- Cart and Profile -->
      <div class="d-flex align-items-center">
        <a routerLink="/cart" class="ms-2">
          <i class="bi bi-cart2"></i>
        </a>
        <ng-container *ngIf="authService.isLoggedIn(); else notLoggedIn">
          <div class="dropdown ms-2">
            <a class="btn btn-secondary dropdown-toggle profile-btn" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
              <img src="assets/Profile.png" alt="Profile" width="30" height="30" class="rounded-circle">
            </a>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
              <li><a class="dropdown-item" routerLink="/orders">ประวัติการซื้อ</a></li>
              <li><a class="dropdown-item" (click)="logout()">ล็อกเอาต์</a></li>
            </ul>
          </div>
        </ng-container>
        <ng-template #notLoggedIn>
          <button type="submit" class="signin-button btn btn-primary ms-2" routerLink="/login">เข้าสู่ระบบ</button>
        </ng-template>
      </div>
    </div>
  </div>
</header>
