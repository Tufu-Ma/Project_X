<app-header></app-header>
<div class="container mt-5">
  <h2>{{ product?.ProductName }}</h2>

  <div *ngIf="product; else noProduct">
    <div class="row">
      <div class="col-md-6">
        <img class="img-fluid" [src]="getImageUrl(product.ImageUrl)" alt="{{ product.ProductName }}" />
      </div>

      <div class="col-md-6">
        <h3>{{ product.ProductName }}</h3>
        <p>{{ product.Description }}</p>
        <p>Price: ฿{{ product.Price | number:'1.2-2' }}</p>
        <p>In Stock: {{ product.Stock }}</p>

        <div class="quantity-selector">
          <button class="btn btn-outline-secondary" (click)="updateQuantity(-1)">-</button>
          <input type="number" class="form-control d-inline text-center" [value]="quantity" style="width: 60px;" readonly>
          <button class="btn btn-outline-secondary" (click)="updateQuantity(1)">+</button>
        </div>

        <!-- ปุ่มเพิ่มสินค้าในตะกร้า -->
        <button class="btn btn-primary" (click)="addToCart()" [disabled]="product.Stock <= 0">
          {{ product.Stock > 0 ? 'เพิ่มไปยังรถเข็น' : 'สินค้าหมด' }}
        </button>        
      </div>
    </div>
  </div>

  <ng-template #noProduct>
    <div class="alert alert-info">Product not found.</div>
  </ng-template>
</div>
